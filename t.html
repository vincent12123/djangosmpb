<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veo Prompt Generator dengan AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Custom scrollbar for webkit browsers */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #2d3748;
        }
        ::-webkit-scrollbar-thumb {
            background: #4a5568;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #718096;
        }
        .btn-ai {
             background: linear-gradient(90deg, #4f46e5, #db2777);
        }
        .btn-ai:hover {
            opacity: 0.9;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200 flex items-center justify-center min-h-screen p-4">
    <div class="w-full max-w-4xl bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8 fade-in">
        
        <!-- Header -->
        <div class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-white">ðŸŽ¬ Veo Prompt Generator</h1>
            <p class="text-gray-400 mt-2">Ditingkatkan dengan <span class="font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">Gemini AI</span></p>
        </div>

        <!-- Form Input -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
            <!-- All textarea inputs remain the same -->
            <div class="form-group">
                <label for="subjek" class="block text-sm font-medium text-gray-300 mb-1">Subjek</label>
                <textarea id="subjek" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Seorang astronot tua"></textarea>
            </div>
            <div class="form-group">
                <label for="aksi" class="block text-sm font-medium text-gray-300 mb-1">Aksi</label>
                <textarea id="aksi" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Menanam bunga mawar di tanah Mars"></textarea>
            </div>
            <div class="form-group">
                <label for="ekspresi" class="block text-sm font-medium text-gray-300 mb-1">Ekspresi</label>
                <textarea id="ekspresi" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Tersenyum dengan tatapan penuh harapan"></textarea>
            </div>
            <div class="form-group">
                <label for="tempat" class="block text-sm font-medium text-gray-300 mb-1">Tempat</label>
                <textarea id="tempat" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Di dalam kawah besar dengan latar belakang Bumi"></textarea>
            </div>
            <div class="form-group">
                <label for="waktu" class="block text-sm font-medium text-gray-300 mb-1">Waktu</label>
                <textarea id="waktu" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Saat matahari terbenam di horison Mars"></textarea>
            </div>
            <div class="form-group">
                <label for="pencahayaan" class="block text-sm font-medium text-gray-300 mb-1">Pencahayaan</label>
                <textarea id="pencahayaan" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Cahaya senja yang lembut, dramatis"></textarea>
            </div>
            <div class="form-group">
                <label for="gayavideo" class="block text-sm font-medium text-gray-300 mb-1">Gaya Video</label>
                <textarea id="gayavideo" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Sinematik, wide angle shot"></textarea>
            </div>
            <div class="form-group">
                <label for="suasanavideo" class="block text-sm font-medium text-gray-300 mb-1">Suasana Video</label>
                <textarea id="suasanavideo" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Melankolis, penuh keajaiban"></textarea>
            </div>
            <div class="form-group">
                <label for="suara" class="block text-sm font-medium text-gray-300 mb-1">Suara atau Musik</label>
                <textarea id="suara" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Musik piano yang pelan dan emosional"></textarea>
            </div>
            <div class="form-group">
                <label for="kalimat" class="block text-sm font-medium text-gray-300 mb-1">Kalimat yang Diucapkan</label>
                <textarea id="kalimat" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: (Tidak ada dialog)"></textarea>
            </div>
            <div class="form-group md:col-span-2">
                <label for="detail" class="block text-sm font-medium text-gray-300 mb-1">Detail Tambahan</label>
                <textarea id="detail" rows="2" class="w-full bg-gray-700 border border-gray-600 rounded-lg p-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" placeholder="Cth: Debu merah Mars berterbangan pelan"></textarea>
            </div>
        </div>

        <!-- Tombol Aksi -->
        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
             <button id="geminiGenerateBtn" class="w-full btn-ai text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-lg col-span-1 sm:col-span-2">
                âœ¨ Buat dengan AI
            </button>
            <button id="generateBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 shadow-lg">
                ðŸš€ Gabungkan Teks
            </button>
            <button id="exampleBtn" class="w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg transition duration-300">
                Isi Contoh
            </button>
            <button id="clearBtn" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-4 rounded-lg transition duration-300 sm:col-span-2">
                Hapus Semua
            </button>
        </div>

        <!-- Hasil Prompt -->
        <div id="resultContainer" class="mt-6 hidden">
            <h2 class="text-xl font-semibold mb-2 text-white">Hasil Prompt:</h2>
            <div class="relative bg-gray-900 rounded-lg p-4 border border-gray-700 min-h-[100px]">
                <p id="resultText" class="text-gray-300 pr-12 whitespace-pre-wrap"></p>
                <button id="copyBtn" class="absolute top-3 right-3 bg-gray-700 hover:bg-gray-600 text-gray-300 font-semibold py-1 px-3 rounded-md text-sm transition">
                    Salin
                </button>
            </div>
        </div>
    </div>

    <script>
        // Mendapatkan elemen dari DOM
        const generateBtn = document.getElementById('generateBtn');
        const geminiGenerateBtn = document.getElementById('geminiGenerateBtn');
        const copyBtn = document.getElementById('copyBtn');
        const clearBtn = document.getElementById('clearBtn');
        const exampleBtn = document.getElementById('exampleBtn');
        
        const resultContainer = document.getElementById('resultContainer');
        const resultText = document.getElementById('resultText');

        // Daftar ID semua textarea
        const fieldIds = ['subjek', 'aksi', 'ekspresi', 'tempat', 'waktu', 'pencahayaan', 'gayavideo', 'suasanavideo', 'suara', 'kalimat', 'detail'];

        // Contoh-contoh prompt (disederhanakan untuk contoh)
        const examples = [
            {
                subjek: 'Seekor rubah oranye terang', aksi: 'tertidur pulas di atas tumpukan buku tua', ekspresi: 'wajahnya tenang dan damai', tempat: 'di dalam perpustakaan yang remang-remang dan berdebu', waktu: 'tengah malam', pencahayaan: 'cahaya bulan masuk dari jendela melengkung yang tinggi', gayavideo: 'gaya animasi Ghibli, close-up shot', suasanavideo: 'ajaib, tenang, dan nyaman', suara: 'suara halaman buku dibalik dan dengkuran rubah yang halus', kalimat: '(Tidak ada dialog)', detail: 'partikel debu menari-nari di bawah sinar bulan'
            },
            {
                subjek: 'Sebuah mobil terbang antik model tahun 1960-an', aksi: 'melaju di antara gedung-gedung pencakar langit holografik', tempat: 'di kota metropolitan futuristik', waktu: 'malam hari saat hujan', pencahayaan: 'lampu neon warna-warni dari reklame memantul di badan mobil yang basah', gayavideo: 'sinematik, gaya film Blade Runner, tracking shot', suasanavideo: 'cyberpunk, nostalgia, sedikit suram', suara: 'suara mesin mobil yang mendengung, hujan deras, dan musik jazz sayup-sayup', detail: 'tetesan hujan mengalir di kaca depan mobil'
            },
            {
                subjek: 'Seorang koki tua', aksi: 'dengan terampil menguleni adonan pasta segar', ekspresi: 'fokus dan bersemangat', tempat: 'di dapur pedesaan Italia yang hangat', waktu: 'sore hari', pencahayaan: 'cahaya matahari sore yang hangat masuk dari jendela', gayavideo: 'rekaman makro pada tangan dan adonan, depth of field dangkal', suasanavideo: 'hangat, otentik, dan menggugah selera', suara: 'suara adonan yang diuleni, api kompor yang menyala pelan', detail: 'tepung bertebaran di atas meja kayu'
            }
        ];
        
        // --- FUNGSI GENERATE DENGAN GEMINI AI ---
        geminiGenerateBtn.addEventListener('click', async () => {
            const promptParts = fieldIds.map(id => document.getElementById(id).value.trim()).filter(Boolean);

            if (promptParts.length === 0) {
                resultText.textContent = "Silakan isi setidaknya satu kolom untuk membuat prompt dengan AI.";
                resultContainer.classList.remove('hidden');
                return;
            }

            const basePrompt = promptParts.join(', ');
            const metaPrompt = `Sebagai seorang penulis prompt kreatif untuk AI video, ubah kata kunci berikut menjadi sebuah paragraf prompt yang deskriptif, naratif, dan sinematik dalam Bahasa Indonesia. Jangan hanya mendaftar kata kunci, tetapi rangkailah menjadi sebuah adegan yang hidup dan menggugah imajinasi. Kata kunci: "${basePrompt}"`;

            resultText.textContent = "Sedang membuat prompt dengan Gemini AI... âœ¨";
            resultContainer.classList.remove('hidden');
            geminiGenerateBtn.disabled = true;
            geminiGenerateBtn.classList.add('opacity-50');

            try {
                let chatHistory = [{ role: "user", parts: [{ text: metaPrompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyA3A8L7fVi-iLs-Mju_-jabzw2RhxiOf-0"; // API key will be injected by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0) {
                    const aiText = result.candidates[0].content.parts[0].text;
                    resultText.textContent = aiText;
                } else {
                    throw new Error("Respon dari AI tidak valid.");
                }

            } catch (error) {
                console.error("Error calling Gemini API:", error);
                resultText.textContent = "Maaf, terjadi kesalahan saat menghubungi AI. Silakan coba lagi nanti.\n\nDetail: " + error.message;
            } finally {
                geminiGenerateBtn.disabled = false;
                geminiGenerateBtn.classList.remove('opacity-50');
            }
        });


        // --- FUNGSI BAWAAN ---

        // Fungsi untuk membuat prompt sederhana (gabung teks)
        generateBtn.addEventListener('click', () => {
            const promptParts = fieldIds.map(id => document.getElementById(id).value.trim()).filter(Boolean);

            if (promptParts.length === 0) {
                resultText.textContent = "Silakan isi setidaknya satu kolom untuk membuat prompt.";
                resultContainer.classList.remove('hidden');
                return;
            }

            const fullPrompt = promptParts.join(', ');
            resultText.textContent = fullPrompt;
            resultContainer.classList.remove('hidden');
            resultContainer.classList.add('fade-in');
        });

        // Fungsi untuk menyalin prompt
        copyBtn.addEventListener('click', () => {
            const textToCopy = resultText.textContent;
            if (textToCopy.startsWith("Sedang membuat prompt") || textToCopy.startsWith("Maaf,")) return;
            
            navigator.clipboard.writeText(textToCopy).then(() => {
                copyBtn.textContent = 'Disalin!';
                setTimeout(() => { copyBtn.textContent = 'Salin'; }, 2000);
            }).catch(err => {
                console.error('Gagal menyalin teks: ', err);
                 // Fallback for older browsers or insecure contexts
                const tempTextArea = document.createElement('textarea');
                tempTextArea.value = textToCopy;
                document.body.appendChild(tempTextArea);
                tempTextArea.select();
                try {
                    document.execCommand('copy');
                    copyBtn.textContent = 'Disalin!';
                    setTimeout(() => { copyBtn.textContent = 'Salin'; }, 2000);
                } catch (e) {
                    copyBtn.textContent = 'Gagal';
                    setTimeout(() => { copyBtn.textContent = 'Salin'; }, 2000);
                }
                document.body.removeChild(tempTextArea);
            });
        });

        // Fungsi untuk membersihkan semua input
        clearBtn.addEventListener('click', () => {
            fieldIds.forEach(id => { document.getElementById(id).value = ''; });
            resultContainer.classList.add('hidden');
            resultText.textContent = '';
        });

        // Fungsi untuk memuat contoh
        exampleBtn.addEventListener('click', () => {
            const randomIndex = Math.floor(Math.random() * examples.length);
            const example = examples[randomIndex];
            fieldIds.forEach(id => { document.getElementById(id).value = example[id] || ''; });
            resultContainer.classList.add('hidden');
        });

    </script>
</body>
</html>
